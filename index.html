<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<style>
			body {
				font: 10px sans-serif;
			}
			.viz {
				fill: none;
				stroke: #000;
			}
		</style>
		<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
		<script src="http://d3js.org/d3.v3.min.js"></script>
	</head>
	<body>
		<div id="chart"></div>
		<div>
			<h1>Graph</h1>
			<form>
				A: <input class="fields" id="a" type="float" value="50"/>
				B: <input class="fields" id="b" type="float" value="75"/>
				C: <input class="fields" id="c" type="float" value="150"/>
				D: <input class="fields" id="d" type="float" value="250"/>
				E: <input class="fields" id="e" type="float" value="500"/><br/>
				<input type="submit" />
			</form>
		</div>
		<!--d3 code-->
		<script>
			var data = [50, 75, 150, 250, 500];
			var max = d3.max(data);

			var margin = {top: 20, right: 20, bottom: 30, left: 50},
				width = 1150 - margin.left - margin.right,
				height = 500 - margin.top - margin.bottom;

			var x = d3.scale.linear().domain([0, data.length - 1]).range([0, width]);
			var y = d3.scale.linear().domain([0, max]).range([height, 0]);

			var xAxis = d3.svg.axis()
				.scale(x)
				.orient("top");

			var yAxis = d3.svg.axis()
				.scale(y)
				.orient("left")

			svg = d3.select('#chart')
				.style('margin', '20px auto')
				.style('width', "" + width + "px")
				.append('svg:svg')
				.attr('width',width)
				.attr('height',height)
				.attr('class','viz')
				.append('svg:g')

			var line = d3.svg.line().x(function(d, i) { return x(i); }).y(y)

			svg.selectAll('path.line')
				.data([data])
				.enter()
				.append("svg:path")
				.attr("d", line);
		</script>
		<!--on form submit-->
		<script type="text/javascript">
			$("form").submit(function() {
				var newA = parseFloat(document.getElementById("a").value);
				var newB = parseFloat(document.getElementById("b").value);
				var newC = parseFloat(document.getElementById("c").value);
				var newD = parseFloat(document.getElementById("d").value);
				var newE = parseFloat(document.getElementById("e").value);

				var data = [newA, newB, newC, newD, newE];
				//var wheeee = findPriceTarget(data);

				svg.selectAll("path")
					.data([data])
					.transition().duration(2000).delay(200)
					.attr("d", line);
				return false;
			});
		</script>
	</body>
</html>